<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Hello World</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这是个沉淀自己的地方">
<meta property="og:type" content="website">
<meta property="og:title" content="Hello World">
<meta property="og:url" content="http://github.com/xgszl33614/index.html">
<meta property="og:site_name" content="Hello World">
<meta property="og:description" content="这是个沉淀自己的地方">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello World">
<meta name="twitter:description" content="这是个沉淀自己的地方">
  
    <link rel="alternative" href="/atom.xml" title="Hello World" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://github.com/xgszl33614/xgszl33614.github.io/tree/master/img/logo.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Xgszl</a></h1>
		</hgroup>

		
		<p class="header-subtitle">努力奉献</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/xgszl33614" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2177109233" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/js/" style="font-size: 20px;">js</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">这是一个沉淀自己的地方</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Xgszl</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="https://github.com/xgszl33614/xgszl33614.github.io/tree/master/img/logo.png" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Xgszl</h1>
			</hgroup>
			
			<p class="header-subtitle">努力奉献</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/xgszl33614" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2177109233" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-call-apply-caller-callee" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/03/call-apply-caller-callee/" class="article-date">
  	<time datetime="2016-05-03T04:11:00.000Z" itemprop="datePublished">2016-05-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/03/call-apply-caller-callee/">call,apply,caller,callee</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> slice = [].slice; <span class="comment">//数组对象的slice方法，数组实例对象才有slice方法(不过Firefox在Array上也实现了它，不过用法有所不同所以，也可以用Array.prototype.call(arguments, 1)</span></span><br><span class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>); <span class="comment">//本来arguments对象是没有slice方法的，于是通过call强行调用</span></span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line">a（<span class="number">1</span>， <span class="number">2</span>， <span class="number">3</span>）；</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">arguments</span>)); <span class="comment">//[length, callee]，各个浏览器实现一致</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">arguments</span>)); <span class="comment">// [object arguments]</span></span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">arguments</span>.slice(<span class="number">1</span>); <span class="comment">//会报错，arguments根本就没有这个方法</span></span><br><span class="line">  <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line">c(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Firefox里面Array实现了slice函数，接受含有length属性的参数1，和位置参数)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.slice(<span class="built_in">arguments</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line">b(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果这样用呢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.slice.call(<span class="built_in">arguments</span>,  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">1</span>, <span class="number">3</span>); <span class="comment">//其实也就是使用arguments调用了Array.slice,但业务上和arguments没有半毛钱关系</span></span><br><span class="line">  <span class="built_in">console</span>.log(args); <span class="comment">// [2, 3]</span></span><br><span class="line">&#125;</span><br><span class="line">b(); <span class="comment">//执行b(6, 5, 3, 2);结果也是一样的，因为根本就不是对arguments切片</span></span><br></pre></td></tr></table></figure>
<h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><h2 id="caller"><a href="#caller" class="headerlink" title="caller"></a>caller</h2><p>Function.prototype上的属性，所有函数实例都有这个属性<br>caller返回调用当前正在执行的函数的函数的引用，如果是顶层调用（即没有上层函数调用），则为null，或者函数没有执行时，打印函数的该属性也返回null<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a.caller);</span><br><span class="line">    <span class="built_in">console</span>.log(a.caller === b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b= <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    a();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a.caller); <span class="comment">// null</span></span><br><span class="line">a(); <span class="comment">// null; false</span></span><br><span class="line">b(); <span class="comment">// function b; true</span></span><br></pre></td></tr></table></figure></p>
<h2 id="callee"><a href="#callee" class="headerlink" title="callee"></a>callee</h2><p>callee返回正在执行的函数本身的引用，它是arguments的一个属性，call代码里面有提到<br>多被用来作递归操作。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> n + <span class="built_in">arguments</span>.callee(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">10</span>);</span><br></pre></td></tr></table></figure></p>
<p>另外，arguments.callee.length表示函数的形参长度；arguments.length代表实参长度，即真正传进来的参数个数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">num</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length); <span class="comment">//5</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.length); <span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line">num(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>);</span><br></pre></td></tr></table></figure></p>
<h2 id="严格模式下，caller-callee都不可用"><a href="#严格模式下，caller-callee都不可用" class="headerlink" title="严格模式下，caller, callee都不可用"></a>严格模式下，caller, callee都不可用</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-new-function" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/24/new-function/" class="article-date">
  	<time datetime="2016-04-24T08:04:15.000Z" itemprop="datePublished">2016-04-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/24/new-function/">new function(){}</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="先看看熟悉一点的写法："><a href="#先看看熟悉一点的写法：" class="headerlink" title="先看看熟悉一点的写法："></a>先看看熟悉一点的写法：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">abc</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"xgs"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//很好理解，使用Person构造函数创建了一个对象是吧。</span></span><br></pre></td></tr></table></figure>
<h2 id="new-function-与-new-Function-的区别"><a href="#new-function-与-new-Function-的区别" class="headerlink" title="new function(){} 与 new Function()的区别"></a>new function(){} 与 new Function()的区别</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"zl"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//自然，new function()&#123;&#125;就是用匿名函数创建了一个对象了,</span></span><br><span class="line"><span class="comment">//注意这个对象并不是函数（Function.prototype.isPrototypeOf(a);//false）,</span></span><br><span class="line"><span class="comment">//这也是new function()&#123;&#125;与new Function()&#123;&#125;的区别</span></span><br></pre></td></tr></table></figure>
<h2 id="奇怪"><a href="#奇怪" class="headerlink" title="奇怪"></a>奇怪</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span> <span class="title">Xgs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"zl"</span>;</span><br><span class="line">&#125;</span><br><span class="line">Xgs; <span class="comment">//undefined, 为什么呢？</span></span><br><span class="line">a.constructor; <span class="comment">// function Xgs() &#123; this.name = "zl"; &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="有趣"><a href="#有趣" class="headerlink" title="有趣"></a>有趣</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.onclick = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">"hah"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;<span class="comment">//不可以添加事件，报错</span></span><br><span class="line"><span class="built_in">document</span>.body.onclick = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">"hah"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;<span class="comment">//可以添加事件，这个东西不错</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-内置类型的终点是什么" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/23/内置类型的终点是什么/" class="article-date">
  	<time datetime="2016-04-23T08:00:29.000Z" itemprop="datePublished">2016-04-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/23/内置类型的终点是什么/">内置类型的终点是什么</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="内置类型的-prototype-都是相同的，他们都是继承自同‘一个不知道是什么的东西’（简称‘无’）"><a href="#内置类型的-prototype-都是相同的，他们都是继承自同‘一个不知道是什么的东西’（简称‘无’）" class="headerlink" title="内置类型的[[prototype]]都是相同的，他们都是继承自同‘一个不知道是什么的东西’（简称‘无’）"></a>内置类型的<code>[[prototype]]</code>都是相同的，他们都是继承自同‘一个不知道是什么的东西’（简称‘无’）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.__proto__ === <span class="built_in">Function</span>.__proto__;<span class="comment">//true</span></span><br><span class="line"><span class="built_in">Function</span>.__proto__ === <span class="built_in">Date</span>.__proto__;<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h2><p><code>Function.call()</code> call 属性从何而来；不出意外，应该是从上面的 ‘无’ 继承而来</p>
<h2 id="Object-getOwnPropertyNames-obj"><a href="#Object-getOwnPropertyNames-obj" class="headerlink" title="Object.getOwnPropertyNames(obj)"></a>Object.getOwnPropertyNames(obj)</h2><p>获取对象obj的所有自身的实例属性，即不包括继承属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chrome</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>.__proto__).sort();</span><br><span class="line"><span class="comment">// ["apply", "arguments", "bind", "call", "caller", "constructor", "length", "name", "toString"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Firefox</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>.__proto__).sort();</span><br><span class="line"><span class="comment">// ["apply", "arguments", "bind", "call", "caller", "constructor", "isGenerator", "length", "name", "toSource", "toString"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Firefox</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>).sort();</span><br><span class="line"><span class="comment">// ["assign", "create", "defineProperties", "defineProperty", "freeze", "getOwnPropertyDescriptor", "getOwnPropertyNames", "getOwnPropertySymbols", "getPrototypeOf", "is", "isExtensible", "isFrozen", "isSealed", "keys", "length", "name", "preventExtensions", "prototype", "seal", "setPrototypeOf"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Chrome</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>).sort();</span><br><span class="line"><span class="comment">// ["arguments", "assign", "caller", "create", "defineProperties", "defineProperty", "deliverChangeRecords", "freeze", "getNotifier", "getOwnPropertyDescriptor", "getOwnPropertyNames", "getOwnPropertySymbols", "getPrototypeOf", "is", "isExtensible", "isFrozen", "isSealed", "keys", "length", "name", "observe", "preventExtensions", "prototype", "seal", "setPrototypeOf", "unobserve"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chrome</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>.prototype).sort();</span><br><span class="line"><span class="comment">// ["__defineGetter__", "__defineSetter__", "__lookupGetter__", "__lookupSetter__", "__proto__", "constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Firefox</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Object</span>.prototype).sort();</span><br><span class="line"><span class="comment">// ["__defineGetter__", "__defineSetter__", "__lookupGetter__", "__lookupSetter__", "__proto__", "constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toSource", "toString", "unwatch", "valueOf", "watch"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chrome</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Function</span>.prototype).sort();</span><br><span class="line"><span class="comment">// ["apply", "arguments", "bind", "call", "caller", "constructor", "length", "name", "toString"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Firefox</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Function</span>.prototype).sort();</span><br><span class="line"><span class="comment">// ["apply", "arguments", "bind", "call", "caller", "constructor", "isGenerator", "length", "name", "toSource", "toString"]</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-for-in" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/22/for-in/" class="article-date">
  	<time datetime="2016-04-22T07:59:34.000Z" itemprop="datePublished">2016-04-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/22/for-in/">for in</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>所有开发人员定义的属性都是可枚举的。</p>
<h2 id="for-in"><a href="#for-in" class="headerlink" title="for-in"></a>for-in</h2><p>返回所有能够通过对象访问的、可枚举的属性，包括存在于实例中的属性，也包括存在于原型（原型链上所有原型)中的属性。屏蔽了原型中不可枚举属性的实例属性也会返回。</p>
<h2 id="instanceObj-hasOwnProperty-prop"><a href="#instanceObj-hasOwnProperty-prop" class="headerlink" title="instanceObj.hasOwnProperty(prop)"></a>instanceObj.hasOwnProperty(prop)</h2><p>继承自：Object.prototype.<br>所以所有对象都有此方法。<br>只有属性prop存在于对象实例中时，才会返回true。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    name : <span class="string">"xgs"</span>,</span><br><span class="line">    age : <span class="string">"23"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">p1.hasOwnProperty(<span class="string">"name"</span>);<span class="comment">//false</span></span><br><span class="line">p1.name = <span class="string">"zl"</span>;</span><br><span class="line">p1.hasOwnProperty(<span class="string">"name"</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<h2 id="结合in和hasOwnProperty"><a href="#结合in和hasOwnProperty" class="headerlink" title="结合in和hasOwnProperty"></a>结合in和hasOwnProperty</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断属性是否为原型属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrototypeProperty</span>(<span class="params">obj, prop</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !obj.hasOwnProperty(prop) &amp;&amp; (prop <span class="keyword">in</span> obj);<span class="comment">//返回true时表明，对象的prop属性是存在于原型上的；返回false时，要么不存在该属性，要么是实例属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-constructor" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/21/constructor/" class="article-date">
  	<time datetime="2016-04-21T07:57:14.000Z" itemprop="datePublished">2016-04-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/21/constructor/">constructor</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">x.constructor; <span class="comment">// function Number () &#123; &#125; , 是一个函数</span></span><br><span class="line"><span class="keyword">typeof</span> (x.constructor); <span class="comment">// function</span></span><br><span class="line">x.constructor == <span class="built_in">Number</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>为什么x会有constructor属性。因为每一个构造函数原型都会生成constructor属性，且这个属性指向构造函数。而实例对象是继承了原型的属性和方法的</p>
<h2 id="用法：判断给定对象为什么类"><a href="#用法：判断给定对象为什么类" class="headerlink" title="用法：判断给定对象为什么类"></a>用法：判断给定对象为什么类</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="literal">null</span>) <span class="keyword">return</span> <span class="string">""</span>; <span class="comment">//Null 和 undefined 没有构造函数</span></span><br><span class="line">    <span class="keyword">switch</span> (x.constructor) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">Number</span>: <span class="keyword">return</span> <span class="string">"Number"</span>; <span class="comment">//处理原始类型</span></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">String</span>: <span class="keyword">return</span> <span class="string">"String"</span>; <span class="comment">//处理原始类型</span></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">Date</span>: <span class="keyword">return</span> <span class="string">"Date"</span>; <span class="comment">//处理内置类型</span></span><br><span class="line">        <span class="keyword">case</span> Complex: <span class="keyword">return</span> <span class="string">"Complex"</span>; <span class="comment">//处理自定义类型</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>不足<br>1.页面多个框架页面中，创建的两个数组继承自两个完全相同却相互独立的原型对象，因而其中一个框架页面中的数组对象不是另外一个框架页面中Array()构造函数的实例。（instanceof也如此)<br>2.此外，不是每个实例都有constructor属性，该属性是继承自原型对象，原型对象可能没有该属性。或者，实例原型更改后并没有指向正确的构造函数，导致不正确。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Xgszl
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>